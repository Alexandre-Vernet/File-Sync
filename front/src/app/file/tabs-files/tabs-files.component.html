<ng-container *ngIf="files?.length > 0 else noFiles">

    <!--Texts-->
    <mat-tab-group>
        <mat-tab *ngIf="hasFile('text')">
            <ng-template mat-tab-label>
                <mat-icon class="textColor">format_color_text</mat-icon>
                Texts
            </ng-template>
            <ng-container *ngFor="let file of files">
                <ng-container *ngIf="castTypeFile(file.type) === 'text'">
                    <mat-card>
                        <mat-card-header>
                            <div mat-card-avatar class="textColor mat-icon">
                                <mat-icon>format_color_text</mat-icon>
                            </div>
                            <mat-card-title *ngIf="isFileEmailOrPhoneOrLink(file.name) === 'phone'">
                                <a href="tel: {{ file.name }}">{{ file.name }}</a>
                            </mat-card-title>
                            <mat-card-title *ngIf="isFileEmailOrPhoneOrLink(file.name) === 'email'">
                                <a href="mailto: {{ file.name }}">{{ file.name }}</a>
                            </mat-card-title>
                            <mat-card-title *ngIf="isFileEmailOrPhoneOrLink(file.name) === 'link'">
                                <a href="{{ file.name }}" target="_blank">{{ file.name }}</a>
                            </mat-card-title>
                            <mat-card-title *ngIf="isFileEmailOrPhoneOrLink(file.name) === ''">
                                {{ file.name }}
                            </mat-card-title>
                            <mat-card-subtitle>{{ convertDate(file.date) }}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-actions>
                            <button mat-button (click)="openDialogUpdateFile(file)">EDIT</button>
                            <button mat-button (click)="deleteFile(file)">DELETE</button>
                        </mat-card-actions>
                    </mat-card>
                </ng-container>
            </ng-container>
        </mat-tab>

        <!--Images-->
        <mat-tab *ngIf="hasFile('image')">
            <ng-template mat-tab-label>
                <mat-icon class="imageColor">image</mat-icon>
                Images
            </ng-template>
            <ng-container *ngFor="let file of files">
                <ng-container *ngIf="castTypeFile(file.type) === 'image'">
                    <mat-card>
                        <mat-card-header>
                            <div mat-card-avatar class="imageColor mat-icon">
                                <mat-icon>image</mat-icon>
                            </div>
                            <mat-card-title>{{ file.name }}</mat-card-title>
                            <mat-card-subtitle>{{ convertDate(file.date) }}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                            <a href="{{ file.url }}" target="_blank">
                                <img src="{{ file.url }}" alt="{{ file.name }}">
                            </a>
                        </mat-card-content>
                        <mat-card-actions>
                            <button mat-button (click)="openDialogUpdateFile(file)">RENAME</button>
                            <button mat-button (click)="deleteFile(file)">DELETE</button>
                        </mat-card-actions>
                    </mat-card>
                </ng-container>
            </ng-container>
        </mat-tab>

        <!--Files-->
        <mat-tab *ngIf="hasFile('application')">
            <ng-template mat-tab-label>
                <mat-icon class="fileColor">file_copy</mat-icon>
                Files
            </ng-template>
            <ng-container *ngFor="let file of files">
                <ng-container *ngIf="castTypeFile(file.type) === 'application'">
                    <mat-card>
                        <mat-card-header>
                            <div mat-card-avatar class="fileColor mat-icon">
                                <mat-icon>file_copy</mat-icon>
                            </div>
                            <mat-card-title>{{ file.name }}</mat-card-title>
                            <mat-card-subtitle>{{ convertDate(file.date) }}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-actions>
                            <button mat-button (click)="openDialogUpdateFile(file)">RENAME</button>
                            <button mat-button (click)="deleteFile(file)">DELETE</button>
                        </mat-card-actions>
                    </mat-card>
                </ng-container>
            </ng-container>
        </mat-tab>

        <!--Videos-->
        <mat-tab *ngIf="hasFile('video')">
            <ng-template mat-tab-label>
                <mat-icon class="videoColor">movie</mat-icon>
                Videos
            </ng-template>
            <ng-container *ngFor="let file of files">
                <ng-container *ngIf="castTypeFile(file.type) === 'video'">
                    <mat-card>
                        <mat-card-header>
                            <div mat-card-avatar class="videoColor mat-icon">
                                <mat-icon>movie</mat-icon>
                            </div>
                            <mat-card-title>{{ file.name }}</mat-card-title>
                            <mat-card-subtitle>{{ convertDate(file.date) }}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                            <video controls src="{{ file.url }}"></video>
                        </mat-card-content>
                        <mat-card-actions>
                            <button mat-button (click)="openDialogUpdateFile(file)">RENAME</button>
                            <button mat-button (click)="deleteFile(file)">DELETE</button>
                        </mat-card-actions>
                    </mat-card>
                </ng-container>
            </ng-container>
        </mat-tab>

        <!--Audios-->
        <mat-tab *ngIf="hasFile('audio')">
            <ng-template mat-tab-label>
                <mat-icon class="audioColor">audiotrack</mat-icon>
                Audios
            </ng-template>
            <ng-container *ngFor="let file of files">
                <ng-container *ngIf="castTypeFile(file.type) === 'audio'">
                    <mat-card>
                        <mat-card-header>
                            <div mat-card-avatar class="audioColor mat-icon">
                                <mat-icon>audiotrack</mat-icon>
                            </div>
                            <mat-card-title>{{ file.name }}</mat-card-title>
                            <mat-card-subtitle>{{ convertDate(file.date) }}</mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                            <audio controls src="{{ file.url }}"></audio>
                        </mat-card-content>
                        <mat-card-actions>
                            <button mat-button (click)="openDialogUpdateFile(file)">RENAME</button>
                            <button mat-button (click)="deleteFile(file)">DELETE</button>
                        </mat-card-actions>
                    </mat-card>
                </ng-container>
            </ng-container>
        </mat-tab>
    </mat-tab-group>
</ng-container>
<ng-template #noFiles>
    <mat-card>
        <mat-card-content>
            <h3>No files</h3>
        </mat-card-content>
    </mat-card>
</ng-template>
